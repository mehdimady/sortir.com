{% extends 'base.html.twig' %}

{% block title %}{{title}} - {{parent()}}{% endblock %}

{% block body %}
<h1 class="text-center p-2">Afficher une sortie</h1>
    {% if motif is defined %}
        <div class="toast m-auto d-block">
            <div class="toast-header text-center bg-danger">
                <strong class="text-light d-block w-100">SORTIE ANNULÉE</strong>
            </div>
            <div class="toast-body bg-warning">
                {{ motif }}
            </div>
        </div>
    {% endif %}
    <div class="card col-sm-12 col-md-10 col-lg-8 mx-auto my-3">
        <div class="card-body d-flex justify-content-around ">
            <div class="col-5">
                <p class="card-text">nom de la sortie : {{sortie.nom}}</p>
                <p class="card-text">Date et heure de la sortie :
                    {{sortie.dateHeureDebut | format_datetime('full','full',locale='fr') | split(' ')[0]}}
                    {{sortie.dateHeureDebut | format_datetime('full','full',locale='fr') | split(' ')[1]}}
                    {{sortie.dateHeureDebut | format_datetime('full','full',locale='fr') | split(' ')[2]}}
                    {{sortie.dateHeureDebut | format_datetime('full','full',locale='fr') | split(' ')[3]}}
                    {{sortie.dateHeureDebut | format_datetime('full','full',locale='fr') | split(' ')[5]|split(':')[0]}}H{{sortie.dateHeureDebut | format_datetime('full','full',locale='fr') | split(' ')[5]|split(':')[1]}}
                </p>
                <p class="card-text">Date limite d'inscription :
                    {{sortie.dateLimiteInscription | format_datetime('full','full',locale='fr') | split(' ')[0]}}
                    {{sortie.dateLimiteInscription | format_datetime('full','full',locale='fr') | split(' ')[1]}}
                    {{sortie.dateLimiteInscription | format_datetime('full','full',locale='fr') | split(' ')[2]}}
                    {{sortie.dateLimiteInscription | format_datetime('full','full',locale='fr') | split(' ')[3]}}
                </p>
                <p class="card-text">Nombre de place : {{sortie.nbInscriptionsMax}}</p>
                <p class="card-text">Durée : {{sortie.duree}} min</p>
                <p class="card-text">Description des infos : {{sortie.infosSortie}}</p>
            </div>
            <div class="col-5">
                <p class="card-text">Campus : {{sortie.campus.nom}}</p>
                <p class="card-text">Lieu : {{sortie.lieux.nom}}</p>
                <p class="card-text">Rue : {{sortie.lieux.rue}}</p>
                <p class="card-text">Code Postal : {{sortie.lieux.ville.codePostal}}</p>
                <p class="card-text">Latitude : {{sortie.lieux.latitude}}</p>
                <p class="card-text">Longitude : {{sortie.lieux.longitude}}</p>
            </div>
        </div>
    </div>
    <div class="container bg-dark text-light col-sm-12 col-md-10 col-lg-6 mx-auto">
        <h2>liste des partitipants</h2>
        <table class="table table-dark table-striped">
            <thead>
            <tr>
                <th scope="col" class="d-none d-md-block">Pseudo</th>
                <th scope="col">Nom complet</th>
                <th scope="col" class="d-md-none">Campus</th>
            </tr>
            </thead>
            <tbody>
            {% for participant in listeParticipants %}
                <tr>
                    <td  class="d-none d-md-block">{{participant.pseudo}}</td>
                    <td> {{participant.nom}} {{participant.prenom}}</td>
                    <td class="d-md-none"> {{participant.campus.nom}}</td>
                </tr>
            {% endfor%}
            </tbody>
        </table>
    </div>
{% endblock %}
