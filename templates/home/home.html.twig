{% extends 'base.html.twig' %}

{% block title %}{{title}} | {{parent()}}{% endblock %}

{% block body %}

        <div class="container mb-3">
            <h1 class="text-center my-3 fs-3">Les sorties organisées</h1>
            <h2 class="fs-6">Filtrer les sorties</h2>
            <form >
                <div class="form-group row mb-0">
                    <label class="col-lg-2 col-form-label" for="site">Campus</label>
                    <select  id="site" class="custom-select col-lg-3">
                        <option>

                        </option>
                    </select>
                    <div class="form-group row">
                        <label for="Contains" class="col-form-label col-lg-3">Le nom de la sortie contient</label>
                        <input type="search"  class="form-control col-lg-2" id="Contains">
                        <div class="form-check offset-lg-2 d-flex flex-column">
                        </div>
                    </div>
                    <div class="form-check offset-lg-2 d-flex flex-column">
                        <div>
                            <input type="checkbox" class="form-check-input">
                            <label class="form-check-label" for="amIOrganizer">Sorties dont je suis l'organisateur.trice</label>
                        </div>
                        <div>
                            <input type="checkbox" class="form-check-input">
                            <label class="form-check-label" for="amIOrganizer">Sorties auxquelles je suis inscrit.e</label>
                        </div>
                        <div>
                            <input type="checkbox" class="form-check-input">
                            <label class="form-check-label" for="amIOrganizer">Sorties auxquelles je ne suis pas inscrit.e</label>
                        </div>
                        <div>
                            <input type="checkbox" class="form-check-input">
                            <label class="form-check-label" for="amIOrganizer">Sorties passée</label>
                        </div>
                    </div>
                </div>

                <div class="form-group row">
                    <label for="startDate" class="col-form-label col-lg-1">Entre le</label>
                    <input type="date" id="startDate"  class="form-control col-lg-2">
                    <label for="endDate" class="col-form-label col-lg-1">et le</label>
                    <input type="date" id="endDate"  class="form-control col-lg-2">
                    <button
                            type="submit"
                            class="btn btn-block btn-dark offset-lg-1 col-lg-4">
                        Recherche
                    </button>
                </div>
            </form>
        </div>
        <hr>

        <div class="col-12 col-md-10 col-lg-8  m-auto">
            <table class="table table-dark table-striped ">
                <thead class="thead-light">
                <tr>
                    <th scope="col">Nom de la sortie</th>
                    <th scope="col">Date de la sortie</th>
                    <th scope="col">Clôture</th>
                    <th scope="col">Participants</th>
                    <th scope="col">Etat</th>
                    <th scope="col">Inscrit</th>
                    <th scope="col">Organisateur</th>
                    <th scope="col">Actions</th>
                </tr>
                </thead>
                <tbody>
                {% for result in sorties%}

                    {% if result.sortie.etat.libelle == 'En création' and app.user.id == result.sortie.organisateur.id %}
                        {{ include('includes/sortieComponent.html.twig') }}
                    {%endif%}
                    {% if result.sortie.etat.libelle != 'En création'  %}
                        {{ include('includes/sortieComponent.html.twig') }}
                    {%endif%}
                {% endfor %}
                </tbody>
            </table>
          </div>
         <div class="form-group row">
          <a class="btn btn-secondary btn-lg active col-2 mx-auto" role="button" aria-pressed="true" href="{{path('sortie_create')}}">Créer une Sortie</a>
         </div>
    </div>
{% endblock %}
